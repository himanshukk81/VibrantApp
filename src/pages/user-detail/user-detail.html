<ion-header>
  <ion-navbar>
    <ion-title>
      Chat
    </ion-title>
  </ion-navbar>
</ion-header>
<ion-content>

      <div class="message-wrap">
  
          <div *ngFor="let message of messages | async" 
               class="message" [class.left]="isYou(message)"
               [class.right]="isMe(message)"  
               >

              <!-- <ion-spinner name="dots" *ngIf="message.status === 'pending'"></ion-spinner> -->
           
            <div *ngIf="message">

                <div class="msg-detail" *ngIf="showMessage(message)"> 
                    <div class="msg-content" >
                       <span class="triangle"></span>
                       <p class="line-breaker">{{message.editorMsg}}</p>
                   </div>
                </div>
            </div>
          </div>
      </div>
  </ion-content>
<ion-footer no-border [style.height]="showEmojiPicker ? '255px' : '55px'">
  <ion-grid class="input-wrap">
      <ion-row>
          <ion-col col-2>
              <!-- <button ion-button clear icon-only item-right (click)="switchEmojiPicker()">
                  <ion-icon name="md-happy"></ion-icon>
              </button> -->
          </ion-col>
          <ion-col col-8>
              <ion-textarea #chat_input
                            placeholder="Text Input"
                            [(ngModel)]="messageInfo.editorMsg"
                            (keyup.enter)="sendMessage()"
                            (focus)="onFocus()">
              </ion-textarea>
          </ion-col>
          <!-- {{messageInfo.editorMsg}} -->
          <ion-col col-2 >
              <button ion-button clear icon-only item-right (click)="sendMessage()"  [disabled]="!messageInfo.editorMsg">
                  <ion-icon name="ios-send" ios="ios-send" md="md-send"></ion-icon>
              </button>
          </ion-col>
      </ion-row>
  </ion-grid>
  <!-- <emoji-picker *ngIf="showEmojiPicker" [(ngModel)]="messageInfo.editorMsg"></emoji-picker> -->
</ion-footer>